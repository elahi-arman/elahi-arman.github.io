!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React")):"function"==typeof define&&define.amd?define(["React"],e):"object"==typeof exports?exports.ReactDraggable=e(require("React")):t.ReactDraggable=e(t.React)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function o(t){var e=t._pendingState||t.state;return{node:t.getDOMNode(),position:{top:e.clientY,left:e.clientX}}}function r(t){return"both"===t.props.axis||"y"===t.props.axis}function s(t){return"both"===t.props.axis||"x"===t.props.axis}function a(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function i(t,e){for(var n=0,o=t.length;o>n;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function p(t,e){var n=i(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return a(t[e])});return t[n].call(t,e)}function c(t){var e=t.touches&&t.touches[0]||t;return{clientX:e.clientX,clientY:e.clientY}}function u(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function l(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}function d(t){var e=t.clientHeight,n=window.getComputedStyle(t);return e+=y(n.borderTopWidth),e+=y(n.borderBottomWidth)}function h(t){var e=t.clientWidth,n=window.getComputedStyle(t);return e+=y(n.borderLeftWidth),e+=y(n.borderRightWidth)}function f(t){var e=t.clientHeight,n=window.getComputedStyle(t);return e-=y(n.paddingTop),e-=y(n.paddingBottom)}function g(t){var e=t.clientWidth,n=window.getComputedStyle(t);return e-=y(n.paddingLeft),e-=y(n.paddingRight)}function m(t){return"number"==typeof t&&!isNaN(t)}function y(t){return parseInt(t,10)}function b(t,e,n){var o=JSON.parse(JSON.stringify(t.props.bounds)),r=t.getDOMNode(),s=r.parentNode;if("parent"===o){var a=window.getComputedStyle(r),i=window.getComputedStyle(s);o={left:-r.offsetLeft+y(i.paddingLeft)+y(a.borderLeftWidth)+y(a.marginLeft),top:-r.offsetTop+y(i.paddingTop)+y(a.borderTopWidth)+y(a.marginTop),right:g(s)-h(r)-r.offsetLeft,bottom:f(s)-d(r)-r.offsetTop}}return m(o.right)&&(e=Math.min(e,o.right)),m(o.bottom)&&(n=Math.min(n,o.bottom)),m(o.left)&&(e=Math.max(e,o.left)),m(o.top)&&(n=Math.max(n,o.top)),[e,n]}function v(t,e,n){var o=Math.round(e/t[0])*t[0],r=Math.round(n/t[1])*t[1];return[o,r]}function S(t){if(t.props.enableUserSelectHack){var e=document.body.getAttribute("style")||"";document.body.setAttribute("style",e+N)}}function T(t){if(t.props.enableUserSelectHack){var e=document.body.getAttribute("style")||"";document.body.setAttribute("style",e.replace(N,""))}}function x(t){var e=t.x+"px",n=t.y+"px";return{transform:"translate("+e+","+n+")",WebkitTransform:"translate("+e+","+n+")",OTransform:"translate("+e+","+n+")",msTransform:"translate("+e+","+n+")",MozTransform:"translate("+e+","+n+")"}}var D=n(2),w=function(){},P=n(3),M=n(4),O={touch:{start:"touchstart",move:"touchmove",end:"touchend"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"}},E=O.mouse,N=";user-select: none;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;";t.exports=D.createClass({displayName:"Draggable",propTypes:{axis:D.PropTypes.oneOf(["both","x","y"]),bounds:D.PropTypes.oneOfType([D.PropTypes.shape({left:D.PropTypes.Number,right:D.PropTypes.Number,top:D.PropTypes.Number,bottom:D.PropTypes.Number}),D.PropTypes.oneOf(["parent",!1])]),enableUserSelectHack:D.PropTypes.bool,handle:D.PropTypes.string,cancel:D.PropTypes.string,grid:D.PropTypes.arrayOf(D.PropTypes.number),start:D.PropTypes.shape({x:D.PropTypes.number,y:D.PropTypes.number}),moveOnStartChange:D.PropTypes.bool,zIndex:D.PropTypes.number,onStart:D.PropTypes.func,onDrag:D.PropTypes.func,onStop:D.PropTypes.func,onMouseDown:D.PropTypes.func},componentWillReceiveProps:function(t){t.moveOnStartChange&&t.start&&this.setState(this.getInitialState(t))},componentWillUnmount:function(){l(document,E.move,this.handleDrag),l(document,E.end,this.handleDragEnd),T(this)},getDefaultProps:function(){return{axis:"both",bounds:!1,handle:null,cancel:null,grid:null,moveOnStartChange:!1,start:{x:0,y:0},zIndex:0/0,enableUserSelectHack:!0,onStart:w,onDrag:w,onStop:w,onMouseDown:w}},getInitialState:function(t){return t=t||this.props,{dragging:!1,offsetX:0,offsetY:0,clientX:t.start.x,clientY:t.start.y}},handleDragStart:function(t){if(this.props.onMouseDown(t),!(this.props.handle&&!p(t.target,this.props.handle)||this.props.cancel&&p(t.target,this.props.cancel))){var e=this.props.onStart(t,o(this));if(e!==!1){var n=c(t);S(this),this.setState({dragging:!0,offsetX:n.clientX-this.state.clientX,offsetY:n.clientY-this.state.clientY}),u(document,E.move,this.handleDrag),u(document,E.end,this.handleDragEnd)}}},handleDragEnd:function(t){this.state.dragging&&(T(this),this.setState({dragging:!1}),this.props.onStop(t,o(this)),l(document,E.move,this.handleDrag),l(document,E.end,this.handleDragEnd))},handleDrag:function(t){var e=c(t),n=e.clientX-this.state.offsetX,r=e.clientY-this.state.offsetY;if(Array.isArray(this.props.grid)){var s=v(this.props.grid,n,r);n=s[0],r=s[1]}if(this.props.bounds){var a=b(this,n,r);n=a[0],r=a[1]}var i=this.props.onDrag(t,o(this));return i===!1?this.handleDragEnd():void this.setState({clientX:n,clientY:r})},onMouseDown:function(t){return E==O.touch?t.preventDefault():this.handleDragStart.apply(this,arguments)},onTouchStart:function(){return E=O.touch,this.handleDragStart.apply(this,arguments)},resetState:function(){this.setState({offsetX:0,offsetY:0,clientX:0,clientY:0})},render:function(){var t=this.props.children.props.style||{},e=x({x:s(this)?this.state.clientX:0,y:r(this)?this.state.clientY:0}),n={touchAction:"none"},o=P({},t,e,n);this.state.dragging&&!isNaN(this.props.zIndex)&&(o.zIndex=this.props.zIndex);var a=M(this.props.children.props.className||"","react-draggable",{"react-draggable-dragging":this.state.dragging,"react-draggable-dragged":this.state.dragged});return D.cloneElement(D.Children.only(this.props.children),{style:o,className:a,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.handleDragEnd,onTouchEnd:this.handleDragEnd})}})},function(e){e.exports=t},function(t){"use strict";function e(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=Object.assign||function(t){for(var n,o,r=e(t),s=1;s<arguments.length;s++){n=arguments[s],o=Object.keys(Object(n));for(var a=0;a<o.length;a++)r[o[a]]=n[o[a]]}return r}},function(t,e){function n(){for(var t,e="",o=0;o<arguments.length;o++)if(t=arguments[o])if("string"==typeof t||"number"==typeof t)e+=" "+t;else if("[object Array]"===Object.prototype.toString.call(t))e+=" "+n.apply(null,t);else if("object"==typeof t)for(var r in t)t.hasOwnProperty(r)&&t[r]&&(e+=" "+r);return e.substr(1)}var o,r;"undefined"!=typeof t&&t.exports&&(t.exports=n),o=[],r=function(){return n}.apply(e,o),!(void 0!==r&&(t.exports=r))}])});
